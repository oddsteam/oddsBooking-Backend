version: '3.8'
services:
  oddsbooking-web:
    image: swr.ap-southeast-2.myhuaweicloud.com/odds-booking/web-oddsbooking:${BRANCH_NAME}
    ports:
      - 80:80
    restart: always
    depends_on:
      - oddsbooking-api
  oddsbooking-api:
    image: swr.ap-southeast-2.myhuaweicloud.com/odds-booking/api-oddsbooking:${BRANCH_NAME}
    ports:
      - 8081:8080
    restart: always
    env_file:
      - SENDINBLUE_TOKEN
    depends_on:
      - rabbitmq
    environment:
      - SPRING_RABBITMQ_HOST=rabbitmq
  rabbitmq:
    image: rabbitmq:management
    ports:
      - 5672:5672
      - 15672:15672
networks:
  default:
    name: oddsbooking-network

      

